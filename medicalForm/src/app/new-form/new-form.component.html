<div class="main container-fluid">
    <div class="row">
        <div class="col-md-6 heading">
            <div class="">
                <img src="../../assets/full_logo.png" class="logo">
            </div>
        </div>
        <div class="col-md-6 headingText">
            <h2>Platinum Rail Services - Medical Assessment Form</h2>
        </div>
    </div>
    <!-- <div class=""> -->

    <div class="form-one" [hidden]="hideFirstForm">
        <app-old-form (oldData)="newOldData($event)"></app-old-form>
    </div>
    <!-- </div> -->

    <div id="accordianNew" [hidden]="hideSecondForm">
        <!-- <div class="single_accordion" [hidden]="true">
            <div class="single_accordion_title collapsed" id="headingNew" data-toggle="collapse"
                data-target="#collapseNew" aria-expanded="true" aria-controls="collapse">
                MEDICAL ASSESSMENT RECORD - NETWORK RAIL
            </div>
            <div id="collapseNew" class="collapse single_accordion_content" aria-labelledby="headingNew"
                data-parent="#accordianNew">
                <div class="single_accordion_content_inner">
                    <form class="induction_pack_component" [formGroup]="form1">
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="name" formControlName="name" (ngModelChange)="onValueChange()" matInput
                                        placeholder="First name" required>
                                </mat-form-field>

                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="idConfirmed" formControlName="idConfirmed" placeholder="ID Confirmed"
                                        (selectionChange)="idChanged($event);onValueChange()" required multiple>
                                        <mat-option *ngFor="let item of idConfirmList; let i = index" id="idConfirmed{{i}}" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12" *ngIf="showSpecifyOthers">
                                <mat-form-field>
                                    <input id="idConfirmOther" formControlName="idConfirmOther" matInput
                                        placeholder="Please Specify the ID confirmed" required>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <app-date-picker (finalizedDate)="finalDate($event, 'form1', 'dob')"
                                    (dateChange)="onValueChange()">
                                </app-date-picker>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="170" formControlName="natInstNo" matInput placeholder="National Insurance No.">
                                </mat-form-field>
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="171" formControlName="currentSenCard" placeholder="Current Sentinel Card?">
                                        <mat-option *ngFor="let item of yesNo; let i = index" id="171{{i}}" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="172" formControlName="sentinalNo" matInput placeholder="Sentinel No.">
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field>
                                    <input id="173" formControlName="additionalComments" matInput
                                        placeholder="Additional Comments">
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div> -->

        <div class="single_accordion">
            <div class="single_accordion_title collapsed" id="headingOne1" data-toggle="collapse"
                data-target="#collapseOneNew" aria-expanded="true" aria-controls="collapseOneNew">
                GENERAL HEALTH
            </div>
            <form [formGroup]="generalHealth">
                <div id="collapseOneNew" class="collapse single_accordion_content" aria-labelledby="headingOne1"
                    data-parent="#accordianNew">
                    <div class="single_accordion_content_inner">
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="174" (ngModelChange)="checkBp()" formControlName="bp1"
                                        (blur)="bpBlurred($event,'reading1')" matInput
                                        placeholder="Blood Pressure - First Reading (mm/Hg)">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <!-- <mat-select (selectionChange)="checkBp(); completeAsFailReferToGP()"
                                        formControlName="pulse1" placeholder="Pulse - First Reading">
                                        <mat-option *ngFor="let item of pulseList" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select> -->
                                    <input type="number" id="175" (ngModelChange)="checkBp();" (blur)=" completeAsFailReferToGP()" formControlName="pulse1"
                                     matInput
                                    placeholder="Pulse - First Reading">
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row bgColor checkRow">
                            <div class="col-md-6 col-12 text-center  text-danger">
                                <b>Please enter 2nd and 3rd reading if Blood Pressure > 160/95 (mm/Hg)</b>
                            </div>
                            <div class="col-md-3 col-6 d-flex align-items-center">
                                <mat-checkbox id="176" (change)="checkboxChange($event)" [checked]="isChecked ? true : null">2nd
                                    Test</mat-checkbox>
                            </div>
                            <div class="col-md-3 col-6 d-flex align-items-center">
                                <mat-checkbox id="177" (change)="checkboxChange2($event)" [checked]="isChecked2 ? true : null">
                                    3rd Test</mat-checkbox>
                            </div>

                        </div>


                        <div class="row" *ngIf="showSecond">

                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="178" [readonly]="secondTestDisabled" formControlName="bp2"
                                        (blur)="bpBlurred($event,'reading2')" matInput
                                        placeholder="Blood Pressure - Second Reading (mm/Hg)">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <!-- <mat-select (selectionChange)="completeAsFailReferToGP()" formControlName="pulse2"
                                        placeholder="Pulse - Second Reading">
                                        <mat-option [disabled]="secondTestDisabled" *ngFor="let item of pulseList"
                                            [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select> -->
                                    <input type="number" id="179" [disabled]="secondTestDisabled" (blur)="completeAsFailReferToGP()" formControlName="pulse2"
                                matInput placeholder="Pulse - Second Reading">
                                </mat-form-field>
                                
                            </div>
                        </div>

                        <div class="row" *ngIf="showThird">

                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="180" [readonly]="thirdTestDisabled" formControlName="bp3"
                                        (blur)="bpBlurred($event,'reading3')" matInput
                                        placeholder="Blood Pressure - Third Reading (mm/Hg)">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="181" (selectionChange)="completeAsFailReferToGP()" formControlName="pulse3"
                                        placeholder="Pulse - Third Reading">
                                        <mat-option [disabled]="thirdTestDisabled" *ngFor="let item of pulseList; let i = index" id="181{{i}}" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-select id="182" formControlName="height" placeholder="Height"
                                        (selectionChange)="calcBmi($event)" required>
                                        <mat-option  *ngFor="let item of heightList; let i = index;" id="182{{i}}" [value]="item">{{item}} cm
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-select id="183" formControlName="weight" placeholder="Weight"
                                        (selectionChange)="calcBmi($event)" required>
                                        <mat-option *ngFor="let item of weightList; let i = index" id="183{{i}}" [value]="item">{{item}} kg
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-4">
                                <mat-form-field>
                                    <input formControlName="bmi" value="{{bmi}}" matInput placeholder="BMI">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row" *ngIf="bmi && bmi > 33">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="241" formControlName="mobility" placeholder="Mobility">
                                        <mat-option id="241{{i}}" *ngFor="let item of satisfactory; let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="242" formControlName="fitness" placeholder="Fitness">
                                        <mat-option id="243" [value]="'Good'">Good</mat-option>
                                        <mat-option [value]="'Poor'">Poor</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row" *ngIf="bmi && bmi < 19">
                            <div class="col-md-12">
                                <!-- <label>Do you consider your diet to be a normal, healthy diet?</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiNormalDiet" placeholder="Do you consider your diet to be a normal, healthy diet?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Have you noticed any unexplained or sudden changes in their weight? </label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiChangesWeight" placeholder="Have you noticed any unexplained or sudden changes in their weight?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Have you ever suffered from gastric symptoms such as discomfort or diarrhoea?</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiGastric" placeholder="Have you ever suffered from gastric symptoms such as discomfort or diarrhoea?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <div class="col-12 text-center bgColor">
                                    <b>Do you suffer from any of the following;</b>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <!-- <label>Fatigue</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiFatigue" placeholder="Fatigue">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-4">
                                <!-- <label>Light-headedness</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiLightHeadedness" placeholder="Light-headedness">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Dizziness</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiDizziness" placeholder="Dizziness">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Nausea</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiNausea" placeholder="Nausea">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Clammy skin</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiClammySkin" placeholder="Clammy skin">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Depression</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiDepression" placeholder="Depression">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Loss of Consciousness</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiLossOfConsciousness" placeholder="Loss of Consciousness">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <!-- <label>Blurred vision</label> -->
                                <mat-form-field>
                                    <mat-select formControlName="bmiBlurredVision" placeholder="Blurred vision">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>


                        <div class="row" *ngIf="bmi && bmi > 30">
                            <div class="col-md-12">
                                <!-- <label>Do you become breathless after climbing a flight of stairs?</label> -->
                                <mat-form-field>
                                    <mat-select id="244" formControlName="bmiStairs"
                                        (selectionChange)="bmiQuestions($event,'bmiStairs')" placeholder="Do you become breathless after climbing a flight of stairs?">
                                        <mat-option id="244{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiStairsDetails">
                                <mat-form-field>
                                    <textarea id="245" matInput placeholder="Additional Details"
                                        formControlName="bmiStairsDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Do you become breathless when hurrying or walking up a slight hill?</label> -->
                                <mat-form-field>
                                    <mat-select id="246" formControlName="bmiHill"
                                        (selectionChange)="bmiQuestions($event,'bmiHill')" placeholder="Do you become breathless when hurrying or walking up a slight hill?">
                                        <mat-option id="246{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiHillDetails">
                                <mat-form-field>
                                    <textarea id="247" matInput placeholder="Additional Details"
                                        formControlName="bmiHillDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>When walking on level ground, do you walk slower than others your age or have to
                                    stop for a breather?</label> -->
                                <mat-form-field>
                                    <mat-select id="248" formControlName="bmiWalk"
                                        (selectionChange)="bmiQuestions($event,'bmiWalk')" placeholder="When walking on level ground, do you walk slower than others your age or have to
                                        stop for a breather?">
                                        <mat-option id="248{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiWalkDetails">
                                <mat-form-field>
                                    <textarea id="249" matInput placeholder="Additional Details"
                                        formControlName="bmiWalkDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>What exercise do you do that leaves you out of breath?</label> -->
                                <mat-form-field>
                                    <textarea id="250" matInput placeholder="What exercise do you do that leaves you out of breath?"
                                        formControlName="bmiExerciseDetails"></textarea>
                                </mat-form-field>
                                <!-- <mat-form-field>
                                    <mat-select formControlName="bmiExercise" (selectionChange)="bmiQuestions($event,'bmiExercise')" placeholder="Select">
                                        <mat-option *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field> -->
                            </div>

                            <!-- <div class="col-md-12" *ngIf="bmiExerciseDetails">
                                <mat-form-field>
                                    <textarea matInput placeholder="Additional Details" formControlName="bmiExerciseDetails"></textarea>
                                </mat-form-field>
                            </div> -->

                            <div class="col-md-12">
                                <!-- <label>Do you wake on a morning feeling refreshed?</label> -->
                                <mat-form-field>
                                    <mat-select id="251" formControlName="bmiRefreshed"
                                        (selectionChange)="bmiQuestions($event,'bmiRefreshed')" placeholder="Do you wake on a morning feeling refreshed?">
                                        <mat-option id="251{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiRefreshedDetails">
                                <mat-form-field>
                                    <textarea id="252" matInput placeholder="Additional Details"
                                        formControlName="bmiRefreshedDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Has anyone ever told you they have observed you going for periods without
                                    breathing whilst you are asleep?</label> -->
                                <mat-form-field>
                                    <mat-select id="253" formControlName="bmiBreathless"
                                        (selectionChange)="bmiQuestions($event,'bmiBreathless')" placeholder="Has anyone ever told you they have observed you going for periods without
                                        breathing whilst you are asleep?">
                                        <mat-option id="253{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiBreathlessDetails">
                                <mat-form-field>
                                    <textarea id="254" matInput placeholder="Additional Details"
                                        formControlName="bmiBreathlessDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Do you wake up with a sore throat or headache?</label> -->
                                <mat-form-field>
                                    <mat-select id="255" formControlName="bmiHeadache"
                                        (selectionChange)="bmiQuestions($event,'bmiHeadache')" placeholder="Do you wake up with a sore throat or headache?">
                                        <mat-option id="255{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiHeadacheDetails">
                                <mat-form-field>
                                    <textarea id="256" matInput placeholder="Additional Details"
                                        formControlName="bmiHeadacheDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Do you snore?</label> -->
                                <mat-form-field>
                                    <mat-select id="257" formControlName="bmiSnore"
                                        (selectionChange)="bmiQuestions($event,'bmiSnore')" placeholder="Do you snore?">
                                        <mat-option id="257{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiSnoreDetails">
                                <mat-form-field>
                                    <textarea id="258" matInput placeholder="Additional Details"
                                        formControlName="bmiSnoreDetails"></textarea>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <!-- <label>Do you feel excessively tired during day?</label> -->
                                <mat-form-field>
                                    <mat-select id="259" formControlName="bmiTired"
                                        (selectionChange)="bmiQuestions($event,'bmiTired')" placeholder="Do you feel excessively tired during day?">
                                        <mat-option id="259{{i}}" *ngFor="let item of yesNo; let i = index;" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12" *ngIf="bmiTiredDetails">
                                <mat-form-field>
                                    <textarea id="260" matInput placeholder="Additional Details"
                                        formControlName="bmiTiredDetails"></textarea>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-select id="184" (selectionChange)="completeAsFailReferToGP()"
                                        formControlName="pulseRhythm" placeholder="Pulse Rhythm">
                                        <mat-option *ngFor="let item of normality; let i = index" id="184{{i}}" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-select id="185" formControlName="glucose" placeholder="Urine Analysis - Glucose">
                                        <mat-option *ngFor="let item of urinanalysis; let i = index"  [value]="item" id="185{{i}}">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-select id="186" formControlName="protein" placeholder="Urine Analysis - Protein">
                                        <mat-option id="186{{i}}" *ngFor="let item of urinanalysis ; let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-12 text-center bgColor">
                                    <b>Blood Pressure</b>
                                </div>
                                <div class="d-flex">
                                    <div class="col-6 p-0 d-flex justify-content-center">
                                        <table class="showTblLines">
                                            <tr>
                                                <td>
                                                    < 90/60 </td>
                                            </tr>
                                            <tr>
                                                <td>90/60 - 140/90</td>
                                            </tr>
                                            <tr>
                                                <td>140/90 - 160/95</td>
                                            </tr>
                                            <tr>
                                                <td>160/95 - 180/100</td>
                                            </tr>
                                            <tr>
                                                <td>>180/100</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="col-6 d-flex justify-content-center">
                                        <table class="showTblLines">
                                            <tr *ngFor="let data of bpArray;  let i=index">
                                                <td>
                                                    <input type="checkbox" name="checkButton"
                                                        [attr.checked]="data.checked" [value]="data.value"
                                                        (change)="onCheckboxChange($event,i)" />
                                                    {{data.value}}
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class='row'>
                            <div class="col-md-12">
                                <div class="col-12 text-center bgColor">
                                    <b>Passed Assessment For</b>
                                </div>
                                <div class="col-md-12">
                                    <!-- <label>Balance, Mobility and Co-ordination?</label> -->
                                    <mat-form-field>
                                        <mat-select id="187" formControlName="balanceNMobility" placeholder="Balance, Mobility and Co-ordination?">
                                            <mat-option id="187{{i}}" *ngFor="let item of yesNo; let i = index"  [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-12">
                                    <!-- <label>Alertness & Psychological Wellbeing?</label> -->
                                    <mat-form-field>
                                        <mat-select id="188" formControlName="alertnessNwellbeing" placeholder="Alertness & Psychological Wellbeing?">
                                            <mat-option id="188{{i}}" *ngFor="let item of yesNo; let i = index"  [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <!-- <label>Speech and Ability to Communicate?</label> -->
                                    <mat-form-field>
                                        <mat-select id="189" formControlName="speech" placeholder="Speech and Ability to Communicate?">
                                            <mat-option id="189{{i}}" *ngFor="let item of yesNo; let i = index"  [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="doYouSuffer">
                            <div class="col-md-12">
                                <div class="col-12 text-center bgColor">
                                    <b>Do you suffer from any of the following;</b>
                                </div>
                            </div>

                                <div class="col-md-4">
                                    <!-- <label>Fatigue</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="fatigue" placeholder="Fatigue">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Light-headedness</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="lightHeadedness" placeholder="Light-headedness">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Dizziness</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="dizziness" placeholder="Dizziness">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Nausea</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="nausea" placeholder="Nausea">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Clammy skin</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="clammySkin" placeholder="Clammy skin">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Depression</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="depression" placeholder="Depression">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <!-- <label>Loss of Consciousness</label> -->
                                    <mat-form-field>
                                        <mat-select formControlName="lossOfConsciousness" placeholder="Loss of Consciousness">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <!-- <div class="col-md-4">
                                    <label>Blurred vision</label>
                                    <mat-form-field>
                                        <mat-select formControlName="blurredVision" placeholder="Select">
                                            <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div> -->
                        </div>
                        <div class="row">
                            <div class="col-md-6 ">
                                <div class="col-12 bgColor text-center">
                                    <b>Advice Given</b>
                                </div>
                                <div class="col-12">
                                    <mat-form-field>
                                        <mat-select id="190" formControlName="adviceGiven"
                                            (selectionChange)="adviceGivenChanged($event)" placeholder="Select">
                                            <mat-option id="190{{i}}" *ngFor="let item of yesNo; let i = index" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-12" *ngIf="showAdviceYes">
                                    <mat-form-field>
                                        <mat-select id="191" formControlName="adviceGivenYes" placeholder="Select" multiple>
                                            <mat-option id="191{{i}}" *ngFor="let item of ifYes; let i = index" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                            </div>
                            <div class="col-md-6 ">
                                <div class="col-12 bgColor text-center">
                                    <b>Letters Issued</b>
                                </div>
                                <div class="col-12">
                                    <mat-form-field>
                                        <mat-select id="192" formControlName="lettersIssued"
                                            (selectionChange)="lettersIssuedChanged($event)" placeholder="Select">
                                            <mat-option id="192{{i}}" *ngFor="let item of yesNo; let i = index" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-12" *ngIf="showlettersIssuedYes">
                                    <mat-form-field>
                                        <mat-select id="193" formControlName="lettersIssuedYes" placeholder="Select" multiple>
                                            <mat-option id="193{{i}}" *ngFor="let item of ifYes; let i = index" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <div class="col-12 bgColor text-center">
                                    <b>Leaflets Sent</b>
                                </div>

                                <div class="col-12">
                                    <mat-form-field>
                                        <mat-select id="194" formControlName="leafletsSent" (selectionChange)="leafletsSentChanged($event)" placeholder="Select">
                                            <mat-option id="194{{i}}" *ngFor="let item of yesNo; let i = index" [value]="item">{{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-12" *ngIf="showleafletsSentYes">
                                    <mat-form-field>
                                        <mat-select id="195" formControlName="leafletsSentYes" placeholder="Select" multiple>
                                            <mat-option id="195{{i}}" *ngFor="let item of leafletsIfYes" [value]="item">
                                                {{item}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field class="">
                                    <input id="196" matInput formControlName="additionalComments"
                                        placeholder="Additional Comments">
                                </mat-form-field>
                            </div>
                        </div>


                    </div>
                </div>
            </form>
        </div>

        <div class="single_accordion">
            <div class="single_accordion_title collapsed" id="headingTwo_1" data-toggle="collapse"
                data-target="#collapseTwoNew" aria-expanded="true" aria-controls="collapseTwoNew">
                VISION ASSESSMENT
            </div>
            <form [formGroup]="visionAssessment">
                <div id="collapseTwoNew" class="collapse single_accordion_content" aria-labelledby="headingTwo_1"
                    data-parent="#accordianNew">
                    <div class="single_accordion_content_inner">
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="197" formControlName="glassesWorn"
                                        (selectionChange)="isGlassesWorn($event.value)" placeholder="Glasses Worn">
                                        <mat-option id="197{{i}}" *ngFor="let item of yesNo;let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="198" formControlName="lensesWorn" placeholder="Lenses Worn">
                                        <mat-option id="198{{i}}" *ngFor="let item of yesNo;let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12 bgColor text-center">
                                <b>Distance Vision</b>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="199" formControlName="dvlUnaided" placeholder="Left(Unaided)">
                                        <mat-option id="199{{i}}" *ngFor="let item of distanceVisionList;let i = index"  [value]="item">6/{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="200" formControlName="dvrUnaided" placeholder="Right(Unaided)">
                                        <mat-option id="200{{i}}" *ngFor="let item of distanceVisionList;let i = index"  [value]="item">6/{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row" *ngIf="isGlassWorn">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="201" formControlName="dvlCorrected" placeholder="Left(Corrected)">
                                        <mat-option id="201{{i}}" *ngFor="let item of distanceVisionList;let i = index"  [value]="item">6/{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="202" formControlName="dvrCorrected" placeholder="Right(Corrected)">
                                        <mat-option id="202{{i}}" *ngFor="let item of distanceVisionList;let i = index"  [value]="item">6/{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 bgColor text-center">
                                <b>
                                    Vision Standard
                                    6/9 in better eye and 6/12 in the other eye
                                </b>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="203" formControlName="visualFields" placeholder="Visual Fields">
                                        <mat-option id="203{{i}}" *ngFor="let item of normality;let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="204" formControlName="colorVision"
                                        (selectionChange)="fitnessChange($event,'vision')" placeholder="Colour Vision">
                                        <mat-option id="204{{i}}" *ngFor="let item of normality;let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 bgColor d-flex justify-content-center align-items-center">
                                Normal Colour Vision
                                17 of 21 plates read correctly
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="205" formControlName="plates" placeholder="No. of plates read correctly">
                                        <mat-option id="205{{i}}" *ngFor="let item of platesList;let i = index"  [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field class="">
                                    <input id="206" matInput formControlName="additionalComments"
                                        placeholder="Additional Comments">
                                </mat-form-field>
                            </div>
                        </div>

                    </div>
                </div>
            </form>
        </div>

        <div class="single_accordion">
            <div class="single_accordion_title collapsed" id="Hearing" data-toggle="collapse" data-target="#hearing"
                aria-expanded="true" aria-controls="hearing">
                HEARING
            </div>
            <form [formGroup]="hearingGrp">
                <div id="hearing" class="collapse single_accordion_content" aria-labelledby="Hearing"
                    data-parent="#hearing">
                    <div class="single_accordion_content_inner">
                        <div class="row">

                            <div class="col-12">
                                <mat-form-field>
                                    <mat-select id="207" formControlName="earWax" placeholder="Are the ears clear of wax?">
                                        <mat-option id="207{{i}}" *ngFor="let item of yesNo;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-12 bgColor text-center">
                                <b>Left Ear</b>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select  id="208" formControlName="leftEar500"
                                        (selectionChange)="leftEarChange($event, 500)" placeholder="500">
                                        <mat-option id="208{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="209" formControlName="leftEar1000"
                                        (selectionChange)="leftEarChange($event, 1000)" placeholder="1000">
                                        <mat-option id="209{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="210" formControlName="leftEar2000"
                                        (selectionChange)="leftEarChange($event, 2000)" placeholder="2000">
                                        <mat-option id="210{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="211" formControlName="leftEar3000" placeholder="3000">
                                        <mat-option id="211{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="212" formControlName="leftEar4000" placeholder="4000">
                                        <mat-option id="212{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="213" formControlName="leftEar6000" placeholder="6000">
                                        <mat-option id="213{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="214" formControlName="leftEar8000" placeholder="8000">
                                        <mat-option id="214{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-12 bgColor text-center">
                                <b> Right Ear </b>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="215" formControlName="rightEar500"
                                        (selectionChange)="rightEarChange($event, 500)" placeholder="500">
                                        <mat-option id="215{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="216" formControlName="rightEar1000"
                                        (selectionChange)="rightEarChange($event, 1000)" placeholder="1000">
                                        <mat-option id="216{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="217" formControlName="rightEar2000"
                                        (selectionChange)="rightEarChange($event, 2000)" placeholder="2000">
                                        <mat-option id="217{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="218" formControlName="rightEar3000" placeholder="3000">
                                        <mat-option id="218{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="219" formControlName="rightEar4000" placeholder="4000">
                                        <mat-option id="219{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="220" formControlName="rightEar6000" placeholder="6000">
                                        <mat-option id="220{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-select id="221" formControlName="rightEar8000" placeholder="8000">
                                        <mat-option id="221{{i}}" *ngFor="let item of hearingList;let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Left ear 500" value="{{lear500}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Left ear 1000" value="{{lear1000}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Left ear 2000" value="{{lear2000}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Left ear total" value="{{learTotal}}" disabled>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Right ear 500" value="{{rear500}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Right ear 1000" value="{{rear1000}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Right ear 2000" value="{{rear2000}}" disabled>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="Right ear total" value="{{rearTotal}}" disabled>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row" *ngIf="learTotal > 89 || rearTotal > 89">

                            <div class="col-md-12">
                                <p class="bgColor text-center"> <b>Medical history :</b>   </p>
                            </div> 
                            <div class="col-md-12">
                                <p>
                                    Do you consider your hearing to be: 
                                </p>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="leftStrength" placeholder="Left ear:">
                                        <mat-option *ngFor="let item of strength" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="rightStrength" placeholder="Right ear:">
                                        <mat-option *ngFor="let item of strength" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="hearingAid" placeholder="Do you wear a hearing aid?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="sufferedInjury" (selectionChange)="earProblems()" placeholder="Have you suffered any injury/trauma to your ears?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field class="" *ngIf="addTextSufferedInjury">
                                    <input matInput formControlName="sufferedInjuryText"
                                        placeholder="If so describe:">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="earDisease" (selectionChange)="earProblems()" placeholder="Earache, discharging ears or other ear disease as child or adult?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field class="" *ngIf="addTextEarDisease">
                                    <input matInput formControlName="earDiseaseText"
                                        placeholder="If so describe:">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="deafnessFamily" (selectionChange)="earProblems()" placeholder="Any ear disease or deafness in the family?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field class="" *ngIf="addTextDeafnessFamily">
                                    <input matInput formControlName="deafnessFamilyText"
                                        placeholder="If so describe:">
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="sufferedHead" (selectionChange)="earProblems()" placeholder="Ever suffered head injury/concussion/unconsciousness?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>   
                            <div class="col-md-6">
                                <mat-form-field class="" *ngIf="addTextSufferedHead">
                                    <input matInput formControlName="sufferedHeadText"
                                        placeholder="If so describe:">
                                </mat-form-field>
                            </div>

                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="sufferRinging" placeholder="Do you suffer ringing in the ear/head?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>   
                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="sufferFromDizziness" placeholder="Do you suffer from dizziness/giddiness?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>   
                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="ototoxicDrugs" placeholder="Exposure to ototoxic drugs or solvents eg streptomycin, otosporin, quinine, toluene?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>   
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="exposureGunfire" (selectionChange)="earProblems()" placeholder="Exposure to gunfire/blasts/explosions?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>   
                            <div class="col-md-6">
                                <mat-form-field class="" *ngIf="addTextExposureGunfire">
                                    <input matInput formControlName="exposureGunfireText"
                                        placeholder="If so describe:">
                                </mat-form-field>
                            </div>


                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="noisyHobbies" placeholder="Do you have any noisy hobbies?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="noisyHobbiesConfirm" placeholder="Tick all that apply:"
                                        (selectionChange)="noisyHobbiesChanged($event);" required multiple>
                                        <mat-option *ngFor="let item of noisyHobbiesList" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            
                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="hearNoise" placeholder="Do you hear better or worse in noise?">
                                        <mat-option *ngFor="let item of betterWorse" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select formControlName="hadWax" (selectionChange)="earProblems()" placeholder="Have you had wax removed from your ears?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field *ngIf="addTextHadWax">
                                    <input matInput formControlName="hadWaxWhen"
                                        placeholder="If YES, when?">
                                </mat-form-field>
                            </div>
                            
                        </div>

                        <div class="row" *ngIf="learTotal > 89 || rearTotal > 89">
                            <div class="col-md-12">
                                <p class="bgColor text-center"><b>Previous noise exposure:</b></p>
                            </div>
                            
                            <div class="col-md-12">
                                <mat-form-field>
                                    <mat-select formControlName="pastEarProblem" (selectionChange)="earProblems()" placeholder="In the past have you had any jobs where the environment is noisy where you have had to shout to be heard?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6" *ngIf="addTextPastEarProblem">
                                <mat-form-field>
                                    <input matInput formControlName="previousJob"
                                        placeholder="Previous job:">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3" *ngIf="addTextPastEarProblem">
                                <mat-form-field>
                                    <input matInput formControlName="longYear"
                                        placeholder="For how long year?">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3" *ngIf="addTextPastEarProblem">
                                <mat-form-field>
                                    <input matInput formControlName="longMonth"
                                        placeholder="For how long month?">
                                </mat-form-field>
                            </div>
                            <div class="col-md-6" *ngIf="addTextPastEarProblem">
                                <mat-form-field>
                                    <mat-select formControlName="protectionProvided" placeholder="Ear protection provided?">
                                        <mat-option *ngFor="let item of yesNo" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6" *ngIf="addTextPastEarProblem">
                                <mat-form-field>
                                    <mat-select formControlName="type" placeholder="Type: ">
                                        <mat-option *ngFor="let item of types" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field class="">
                                    <input id="222" matInput formControlName="additionalComments"
                                        placeholder="Additional Comments">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <!-- </div> -->
                </div>
            </form>

        </div>

        <div class="single_accordion">
            <div class="single_accordion_title collapsed" id="headingThree_1" data-toggle="collapse"
                data-target="#collapseThreeNew" aria-expanded="true" aria-controls="collapseThreeNew">
                FITNESS ASSESSMENT SUMMARY
            </div>
            <form [formGroup]="fitnessGrp">
                <div id="collapseThreeNew" class="collapse single_accordion_content" aria-labelledby="headingThree_1"
                    data-parent="#accordianNew">
                    <div class="single_accordion_content_inner">
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="223" formControlName="generalHealth"
                                        (selectionChange)="fitnessChange($event,'generalHealth')"
                                        placeholder="General Health">
                                        <mat-option id="223{{i}}" *ngFor="let item of satisfactory; let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="224" formControlName="visual"
                                        (selectionChange)="fitnessChange($event,'visual')" placeholder="Visual Acuity">
                                        <mat-option id="224{{i}}" *ngFor="let item of satisfactory; let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="225" formControlName="colorVision"
                                        (selectionChange)="fitnessChange($event,'colourVision')"
                                        placeholder="Colour Vision">
                                        <mat-option id="225{{i}}" *ngFor="let item of satisfactory; let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field>
                                    <mat-select id="226" formControlName="hearing"
                                        (selectionChange)="fitnessChange($event,'hearing')" placeholder="Hearing">
                                        <mat-option id="226{{i}}" *ngFor="let item of satisfactory; let i = index" [value]="item">{{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <mat-form-field>
                                    <textarea id="227" formControlName="addInfo" placeholder="Additional Information"
                                        matInput></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="single_accordion">
            <div class="single_accordion_title collapsed" id="headingFour_1" data-toggle="collapse"
                data-target="#collapseFourNew" aria-expanded="true" aria-controls="collapseFourNew">
                MEDICAL EXAMINARS RECOMMENDATION
            </div>
            <form [formGroup]="medicalAssess">
                <div id="collapseFourNew" class="collapse single_accordion_content" aria-labelledby="headingFour_1"
                    data-parent="#accordianNew">
                    <div class="single_accordion_content_inner">
                        <div class="row">

                            <div class="col-12">

                                <div class="col-md-6">
                                    <input id="228" type="checkbox" name="fit" [attr.checked]="" value="Fit"
                                        (change)="fit($event)" />
                                    Fit
                                </div>

                                <div class="col-md-12">
                                    <mat-form-field>
                                        <mat-select id="229" formControlName="level" placeholder="Select" required>
                                            <mat-option [value]="'level1'" [disabled]="disableLevel">Level 1
                                            </mat-option>
                                            <mat-option id="230" [value]="'level3'">Level 3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <input id="231" type="checkbox" name="letterToGp" [attr.checked]="letterToGpCheck" [value]="letterToGp"
                                        (change)="letterToGp($event)" />
                                    Letter To GP/Opticion
                                </div>

                                <div class='col-md-12'>
                                    <mat-form-field>
                                        <input id="232" matInput placeholder="Reason" formControlName="reason">
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <input id="233" type="checkbox" name="certificate" [attr.checked]=""
                                        value="MonthsCertificate" (change)="sixMonth($event)" />
                                    6 Months Certificate
                                </div>

                                <div class="col-md-6">
                                    (Blood pressure 165/95-180/100)
                                </div>

                                <div class="col-md-6">
                                    <input id="234" type="checkbox" name="referToOH" [attr.checked]="" [value]="referToOH"
                                        (change)="referToOH($event)" />
                                    Refer To OH Physician
                                </div>
                            </div>
                        </div>

                        <div class="row justify-content-center align-items-center">
                            <div class="col-12 bgColor text-center">
                                <b>Final Assessment:</b>
                            </div>
                            <div class="col-md-6">
                                <input type="checkbox" formControlName="isFailed" (change)="failedChange($event)"> Failed
                            </div>
                            <div class="col-md-6" *ngIf="isFailed">
                                <mat-form-field>
                                    <input matInput type="text" placeholder="Reason" formControlName="isFailedReason">
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="235" formControlName="examinerName" matInput
                                        placeholder="Medical Examinar's Name" required>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <!-- <mat-form-field>
                                    <input matInput [matDatepicker]="picker1" formControlName="examinerDate"
                                        placeholder="Choose a date">
                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                    <mat-datepicker #picker1></mat-datepicker>
                                </mat-form-field> -->
                                <app-date-picker (finalizedDate)="finalDate($event, 'medicalAssess', 'examinerDate')"
                                    (dateChange)="onValueChange()">

                                </app-date-picker>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>SIGNATURE</label>
                                <div class="signCanvas" id="236" *ngIf="!examinarSign" (click)="redirect('examinar')">
                                    Click to sign
                                </div>

                                <div class="signCanvas" *ngIf="examinarSign" (click)="redirect('examinar')">
                                    Signature attached.
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <mat-form-field>
                                    <textarea id="237" matInput formControlName="reasonForReferral"
                                        placeholder="Reason for referral"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field>
                                    <input id="238" formControlName="checkedBy" matInput placeholder="Checked By">
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <!-- <mat-form-field>
                                    <input matInput [matDatepicker]="picker2" formControlName="checkedByDate"
                                        placeholder="Choose a date">
                                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field> -->
                                <app-date-picker (finalizedDate)="finalDate($event, 'medicalAssess', 'checkedByDate')"
                                    (dateChange)="onValueChange()">

                                </app-date-picker>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>SIGNATURE</label>
                                <div class="signCanvas" id="239" *ngIf="!checkedBy" (click)="redirect('checkedby')">
                                    Click to sign
                                </div>

                                <div class="signCanvas" *ngIf="checkedBy" (click)="redirect('checkedby')">
                                    Signature attached.
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field class="">
                                    <input id="240" matInput formControlName="additionalComments"
                                        placeholder="Additional Comments">
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col-12 bgColor text-center">
                                Occupational Health Physicians Decision
                            </div>
                            <div class="col-md-4">
                                Level
                            </div>
                            <div class="col-md-8">
                                <input type="checkbox" disabled>Level 1
                                <input type="checkbox" disabled>Level 2
                                <input type="checkbox" disabled>Level 3
                                <input type="checkbox" disabled>Level 4
                                <input type="checkbox" disabled>No Level
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-4">
                                Risk Assessment Required
                            </div>
                            <div class="col-md-4">
                                Y/N
                            </div>
                            <div class="col-md-4">
                                Reason:
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-6">
                                Signature
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="mt-3" [hidden]="hideSecondForm">
        <button id="submitFinalButton" [disabled]="submitDisabled" mat-raised-button color="primary" (click)="submit()">Submit</button>
    </div>
</div>


<div *ngIf="loading == true">
    <div id="loader-wrapper">
        <div class="lds-dual-ring"></div>
    </div>
</div>